export function makeMissionPrompt({
  age,
  gender,
  level,
  score,
  type,
}: {
  age: number;
  gender: string;
  level: string;
  score: number;
  type: string;
}) {
  const levelDesc =
    {
      low: '은둔 성향 낮음 – 사회적 관계 단절 경향이 비교적 적은 편입니다. 평소 일정 수준의 대인관계와 외출을 유지하고 있으며, 은둔형 외톨이 상태로 볼 근거가 거의 없습니다. 다만 일부 문항에서 약간 높은 점수를 줬다면 스트레스 수준을 점검해보세요.',
      mid: '은둔 성향 중간 – 일부 히키코모리 경향이 나타납니다. 대인관계에서 불편함이나 회피 성향이 존재하고, 혼자 있는 시간이 많습니다. 아직 일상생활이 완전히 단절된 상태는 아니지만, 현재 나타나는 어려움이 지속되거나 악화되면 장기 은둔으로 이어질 수 있습니다. 필요하면 주변에 현재 상태를 털어놓거나 상담 등 조기 개입을 고려해 보세요.',
      high: '은둔 성향 높음 – 심각한 사회적 고립 상태로 볼 수 있습니다. 학교나 직장 등 사회생활을 장기간 중단하고 있고, 가족 외에는 거의 교류가 없는 전형적인 은둔형 외톨이 상태에 가깝습니다. 이러한 경우 우울증이나 불안장애가 동반되기 쉽고, 전문가의 도움을 받아 사회복귀를 모색하는 것이 좋습니다.',
    }[level] || '';

  return `
너는 히키코모리 탈출을 돕는 상담가야.
아래 사용자 정보를 참고해서, ${type} 유형의 미션을 1개 생성해줘.

- 나이: ${age}
- 성별: ${gender}
- 은둔 성향: ${level} (${levelDesc})
- 설문 점수: ${score}

미션 유형 설명:
RECEIPT: 사용자가 집 근처(반경 3km) 카페나 음식점에 방문해 영수증을 받아오는 미션
GPS: 30분 이상 산책하기 등 GPS로 확인 가능한 미션
VOICE: 마이크로 특정 문장을 10번 읽는 미션
BUTTON: 좋은 글귀를 읽고 확인 버튼을 누르는 미션
DIARY: 일기를 작성하고 제출하는 미션

미션 예시(형식):
{
  "title": "카페에서 커피 한 잔 마시기",
  "description": "집 근처 카페에 방문해 커피를 마시고 영수증을 받아 인증해보세요.",
  "type": "${type}"
}
`.trim();
}
